<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>Máquinas | Observium</title>
</head>

<body>
    <div class="side-bar">
        <div class="container">
            <div class="boxes" id="boxes_logo">
                <div class="box">
                    <img src="assets/imgs/Logo_Observium_Quadrado.png" alt="">
                </div>
            </div>

            <div class="boxes" id="boxes_links">
                <a class="box" id="box_selected" href="tela_maquinas.html">
                    <img src="assets/imgs/imac.png" alt="">
                </a>
                <a class="box" href="dashboard.html">
                    <img src="assets/imgs/graphic-arrow.png" alt="">
                </a>
                <a class="box" href="tela_logs.html">
                    <img src="assets/imgs/files.png" alt="">
                </a>
            </div>

            <div class="boxes" id="boxes_logout">
                <a class="box">
                    <img src="assets/imgs/logout.png" alt="">
                </a>
            </div>
        </div>
    </div>

    <div class="banner">
        <div class="filter">

        </div>

        <div class="container" id="machine_wrapper">
            <div id="container"></div>
        </div>
    </div>
</body>

</html>

<script>
    let listaMaquinas = [
        {
            nome: "Máquina 1",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },
        {
            nome: "Máquina 2",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 3",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 4",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },
        {
            nome: "Máquina 5",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },   
        {
            nome: "Máquina 6",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 7",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 8",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },
        {
            nome: "Máquina 9",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },   
        {
            nome: "Máquina 10",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 11",
            imagemSO: "./assets/imgs/monitor-windows.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },  
        {
            nome: "Máquina 12",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        },
        {
            nome: "Máquina 13",
            imagemSO: "./assets/imgs/monitor-linux.png",
            img_edit: "./assets/imgs/editar.png",
            img_delete: "./assets/imgs/garbage.png"
        }
    ]; 
        
    for (let i = 0; i < listaMaquinas.length; i++) {
        //CRIANDO VARIAVEL QUE CONTEM OS ELEMENTOS HTML
        const container = document.getElementById("container")
        let card = document.createElement("div")
        let tituloMaquina = document.createElement("h3")
        let divSO = document.createElement("div")
        let div_edit_delete = document.createElement("div")
        let img_edit = document.createElement("a")
        let img_delete = document.createElement("a")
        let div_delete_modal = document.createElement("div")
        let content_delete_modal = document.createElement("div")
        let btn_fechar_delete_modal = document.createElement("a")
        let txt_delete_modal = document.createElement("h3")
        let btn_confirmar_delete_modal = document.createElement("a")

        //ADICIONANDO TEXTO EM CADA ELEMENTO A CADA VOLTA DO LAÇO
        tituloMaquina.innerHTML += listaMaquinas[i].nome
        txt_delete_modal.innerHTML = "Deseja mesmo excluir a "+listaMaquinas[i].nome+" ?";
        btn_fechar_delete_modal.innerHTML = "X";
        btn_confirmar_delete_modal.innerHTML = "CONFIRMAR";
        
        //ATUALIZANDO O HREF DOS ELEMENTOS
        img_edit.href = "#edit_modal_"+listaMaquinas[i].nome
        img_delete.href = "#delete_modal_"+listaMaquinas[i].nome
        btn_fechar_delete_modal.href = "#fechar"
        btn_confirmar_delete_modal.href = "#confirmar"

        //ATUALIZANDO O CLASSNAME DOS ELEMENTOS
        tituloMaquina.classList.add("hostname")
        card.classList.add("item_container")
        divSO.classList.add("item_container_SO")
        div_edit_delete.classList.add("div_edit_delete")
        img_edit.classList.add("item_container_img_edit")
        img_delete.classList.add("item_container_img_delete")
        div_delete_modal.classList.add("delete_modal")
        content_delete_modal.classList.add("content_delete_modal")
        txt_delete_modal.classList.add("txt_delete_modal")
        btn_fechar_delete_modal.classList.add("btn_fechar_delete_modal")
        btn_confirmar_delete_modal.classList.add("btn_confirmar_delete_modal")

        //ATUALIZANDO O IDNAME DO ELEMENTO
        div_delete_modal.setAttribute("id", "delete_modal_"+listaMaquinas[i].nome);


        //CONFIGURANDO URL DAS DIV COM IMAGENS
        divSO.style.backgroundImage = "url(" + listaMaquinas[i].imagemSO + ")"
        img_edit.style.backgroundImage = "url(" + listaMaquinas[i].img_edit + ")"
        img_delete.style.backgroundImage = "url(" + listaMaquinas[i].img_delete + ")"

        //DEFININDO ONDE OS ELEMENTOS DEVERÃO SER CRIADOS NO HTML
        container.appendChild(card)
        card.appendChild(divSO)
        card.appendChild(tituloMaquina)
        card.appendChild(div_edit_delete)
        div_edit_delete.appendChild(img_edit)
        div_edit_delete.appendChild(img_delete)
        container.appendChild(div_delete_modal)
        div_delete_modal.appendChild(content_delete_modal)
        content_delete_modal.appendChild(btn_fechar_delete_modal)
        content_delete_modal.appendChild(txt_delete_modal)
        content_delete_modal.appendChild(btn_confirmar_delete_modal)
    }
</script>
<script src="js/backendTelaDeMaquinas.js"></script>
